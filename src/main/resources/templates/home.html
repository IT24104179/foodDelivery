<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Snak Sprint ‚Ä¢ Home</title>
    <link rel="stylesheet" th:href="@{/style.css}" />
    <style>
        body {
            background-color: #F1EFEC;
            background-image: url('https://images.unsplash.com/photo-1498837167922-ddd27525d352?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80');
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            min-height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        nav {
            background-color: #D4C9BE;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        nav button {
            background-color: #123458;
            color: #F1EFEC;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 1rem;
        }
        nav button:hover {
            background-color: #030303;
        }
        .hero-section {
            background: linear-gradient(135deg, #123458, #030303);
            color: #F1EFEC;
            padding: 4rem 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }
        .hero-section h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        .hero-section p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }
        .cta-button {
            background-color: #123458;
            color: #F1EFEC;
            padding: 1rem 2rem;
            border: none;
            border-radius: 4px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            background-color: #030303;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
        }
        .feature-card {
            background: #F1EFEC;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #D4C9BE;
        }
        .feature-card h3 {
            color: #123458;
            margin-bottom: 1rem;
        }
    </style>
    <style>
        .hero-section {
            background: linear-gradient(135deg, #123458, #030303);
            color: white;
            padding: 3rem 2rem;
            border-radius: 15px;
            margin: 2rem;
            text-align: center;
        }
        .hero-section h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .search-bar {
            max-width: 600px;
            margin: 1rem auto;
            display: flex;
            gap: 1rem;
        }
        .search-bar input {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
        }
        .search-bar button {
            padding: 1rem 2rem;
            background: #123458;
            color: #F1EFEC;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .food-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 16px;
            padding: 16px;
        }
        .food-item {
            background: #F1EFEC;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            width: 100%;
            height: 420px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: stretch;
            margin: 0;
        }
        .food-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .food-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            flex-shrink: 0;
        }
        .food-item-content {
            padding: 1.5rem;
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .food-item h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1.25rem;
            color: #123458;
        }
        .food-item p {
            color: #030303;
            margin: 0 0 1rem 0;
        }
        .food-item .price {
            font-weight: bold;
            color: #123458;
            font-size: 1.2rem;
        }
        nav {
            background: #D4C9BE;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 0;
            width: 100%;
        }
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0.5rem 1rem;
        }
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #123458;
        }
        .nav-links {
            display: flex;
            align-items: center;
        }
        .nav-links a {
            color: #123458;
            text-decoration: none;
            padding: 0.5rem 1rem;
            margin: 0 0.25rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .nav-links a:hover {
            color: #030303;
        }
        .nav-buttons {
            display: flex;
            align-items: center;
        }
        nav button {
            background: #123458;
            color: #F1EFEC;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 0.5rem;
            transition: all 0.3s ease;
        }
        nav button:hover {
            background: #030303;
        }

    </style>
</head>
<body>

<nav>
    <div class="nav-container">
        <div class="logo">üçî Snak Sprint</div>
        <div class="nav-links">
            <a href="/">Home</a>
            <a href="/about">About</a>
        </div>
        <div class="nav-buttons">
            <button id="loginBtn" th:unless="${user}" onclick="location.href='/login'">Login</button>
            <button id="updateBtn" th:if="${user}" style="display:inline-block;" onclick="location.href='/update-details'">Update Details</button>
            <button id="logoutBtn" th:if="${user}" onclick="fetch('/api/users/logout', { method: 'POST' }).then(() => location.reload());">Logout</button>
        </div>
    </div>
</nav>

<div class="hero-section">
    <h1>Welcome to üçî Snak Sprint</h1>
    <p>Discover and order your favorite dishes</p>
    <div class="search-bar">
        <input type="text" placeholder="Search for dishes or cuisines...">
        <button>Search</button>
    </div>
</div>

<div class="food-gallery">
    <div th:if="${#lists.isEmpty(foodItems)}" class="alert alert-info text-center p-5">
        <h3>No food items available</h3>
        <p>Check back soon for delicious dishes!</p>
    </div>
    <div th:each="item : ${foodItems}" class="food-item">
        <img th:if="${item.imageUrl != null && !item.imageUrl.isEmpty()}"
             th:src="@{${item.imageUrl}(v=${#dates.createNow().getTime()})}"
             alt="Food Image"
             onerror="this.onerror=null;this.src='https://via.placeholder.com/300x200?text=Image+Not+Found';">
        <img th:if="${item.imageUrl == null || item.imageUrl.isEmpty()}"
             src="https://via.placeholder.com/300x200?text=No+Image"
             alt="No Image">
        <div class="food-item-content">
            <h3 th:text="${item.name}">Food Name</h3>
            <p th:text="${item.description}">Description</p>
            <div class="price">Rs. <span th:text="${#numbers.formatDecimal(item.price, 0, 2)}">0.00</span></div>
        </div>
    </div>
</div>



<script th:inline="javascript">
    const user = /*[[${user}]]*/ null;
    const role = /*[[${role}]]*/ null;

    // Check if user is logged in and redirect if needed
    if (user) {
        if (role === 'owner') {
            location.href = /*[[@{/owner-home}]]*/ '';
        } else if (role === 'customer') {
            location.href = /*[[@{/customer-home}]]*/ '';
        }
    }
</script>

</body>
</html> 